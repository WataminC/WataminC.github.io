<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.7" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.23" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://www.wataminc.top/MD/School/DataStructure/Chapter8.html"><meta property="og:site_name" content="Watamin C"><meta property="og:title" content="第8章 图论"><meta property="og:description" content="§ 第8章 图 § 8.1 图的基本概念 图定义: 图是由顶点集合(vertex)及顶点间的关系集合组成的一种数据结构 有向图和无向图 完全图 邻接顶点 子图 带权图也叫做网络 稠密图和稀疏图 m=nlogn 顶点的度 入度 出度 路径 路径长度 简单路径 回路 连通图和连通分量 强连通图与强连通分量 生成树 图的抽象数据类型 图的模版基类 § 8.2..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-02-18T09:24:14.000Z"><meta property="article:author" content="Watamin C"><meta property="article:tag" content="DataStructure"><meta property="article:modified_time" content="2024-02-18T09:24:14.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"第8章 图论","image":[""],"dateModified":"2024-02-18T09:24:14.000Z","author":[{"@type":"Person","name":"Watamin C","url":"www.wataminc.top"}]}</script><title>第8章 图论 | Watamin C</title><meta name="description" content="§ 第8章 图 § 8.1 图的基本概念 图定义: 图是由顶点集合(vertex)及顶点间的关系集合组成的一种数据结构 有向图和无向图 完全图 邻接顶点 子图 带权图也叫做网络 稠密图和稀疏图 m=nlogn 顶点的度 入度 出度 路径 路径长度 简单路径 回路 连通图和连通分量 强连通图与强连通分量 生成树 图的抽象数据类型 图的模版基类 § 8.2...">
    <link rel="preload" href="/assets/style-DaGapquh.css" as="style"><link rel="stylesheet" href="/assets/style-DaGapquh.css">
    <link rel="modulepreload" href="/assets/app-Db9izKh9.js"><link rel="modulepreload" href="/assets/Chapter8.html-B3dsRPxy.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/AboutMe.html-CR2OlRpS.js" as="script"><link rel="prefetch" href="/assets/index.html-BvsOiGvX.js" as="script"><link rel="prefetch" href="/assets/intro.html-B89YBFwG.js" as="script"><link rel="prefetch" href="/assets/index.html-DRwcHPuC.js" as="script"><link rel="prefetch" href="/assets/index.html-o_j9AdVE.js" as="script"><link rel="prefetch" href="/assets/index.html-j4jtDuW-.js" as="script"><link rel="prefetch" href="/assets/index.html-Bro_AMvg.js" as="script"><link rel="prefetch" href="/assets/index.html-TJJTCiDt.js" as="script"><link rel="prefetch" href="/assets/buildYourOwnBlog.html-DGtNZ_GQ.js" as="script"><link rel="prefetch" href="/assets/index.html-CapJYTFg.js" as="script"><link rel="prefetch" href="/assets/index.html-CuTudK59.js" as="script"><link rel="prefetch" href="/assets/GMR85.html-CxYPV7dZ.js" as="script"><link rel="prefetch" href="/assets/index.html-DhVh1crW.js" as="script"><link rel="prefetch" href="/assets/index.html-CfBDbxvH.js" as="script"><link rel="prefetch" href="/assets/draft.html-D4foEfUE.js" as="script"><link rel="prefetch" href="/assets/Chapter1.html-DYXGq-7F.js" as="script"><link rel="prefetch" href="/assets/Chapter2.html-DI2kbWB1.js" as="script"><link rel="prefetch" href="/assets/Chapter3.html-CwAaAySf.js" as="script"><link rel="prefetch" href="/assets/Chapter5.html-XEimyYny.js" as="script"><link rel="prefetch" href="/assets/index.html-CuG1QorB.js" as="script"><link rel="prefetch" href="/assets/Lecture1.html-tXN2U5_d.js" as="script"><link rel="prefetch" href="/assets/index.html-D1YtZQhv.js" as="script"><link rel="prefetch" href="/assets/opengauss.html-jYwJurcB.js" as="script"><link rel="prefetch" href="/assets/Chapter14_Graph.html-6x0V71zS.js" as="script"><link rel="prefetch" href="/assets/index.html-BTcEPN4Z.js" as="script"><link rel="prefetch" href="/assets/index.html-DjcVCnxl.js" as="script"><link rel="prefetch" href="/assets/第七章 参数估计.html-BfvuQqbD.js" as="script"><link rel="prefetch" href="/assets/第三章 多维随机变量及其分布.html-FVRvuMs8.js" as="script"><link rel="prefetch" href="/assets/第二章 随机变量及其分布.html-C4tZaJuz.js" as="script"><link rel="prefetch" href="/assets/index.html-DU01Ua71.js" as="script"><link rel="prefetch" href="/assets/Week1.html-DWKz8t7H.js" as="script"><link rel="prefetch" href="/assets/Week2.html-BpoyMMom.js" as="script"><link rel="prefetch" href="/assets/Week3.html-BlcEjbIf.js" as="script"><link rel="prefetch" href="/assets/404.html-277Ieumc.js" as="script"><link rel="prefetch" href="/assets/index.html-BF-bkwLR.js" as="script"><link rel="prefetch" href="/assets/index.html-BwziDgjQ.js" as="script"><link rel="prefetch" href="/assets/index.html-Bo4cIBLE.js" as="script"><link rel="prefetch" href="/assets/index.html-zaq3CZUf.js" as="script"><link rel="prefetch" href="/assets/index.html-D8W353Gt.js" as="script"><link rel="prefetch" href="/assets/index.html-FUQyCeh_.js" as="script"><link rel="prefetch" href="/assets/index.html-CEJmXDry.js" as="script"><link rel="prefetch" href="/assets/index.html-N4p5G5SF.js" as="script"><link rel="prefetch" href="/assets/index.html-1QueZWrr.js" as="script"><link rel="prefetch" href="/assets/index.html-DtKSjIlo.js" as="script"><link rel="prefetch" href="/assets/index.html-DKW6wZfa.js" as="script"><link rel="prefetch" href="/assets/index.html-KLnQLOtq.js" as="script"><link rel="prefetch" href="/assets/browser-D6eOinvE.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-SzV8tJDW.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="/assets/images/1749_1708228472_hd.jpeg" alt><!----><span class="vp-site-name hide-in-pad">Watamin C</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/" aria-label="主页"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>主页<!----></a></div><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/MD/Computer/" aria-label="CS"><span class="font-icon icon fa-fw fa-sm fas fa-computer" style=""></span>CS<!----></a></div><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/MD/Maths/" aria-label="数学相关"><span class="font-icon icon fa-fw fa-sm fas fa-infinity" style=""></span>数学相关<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="校内课程"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-ghost" style=""></span>校内课程</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/MD/School/Probability/" aria-label="概率论"><span class="font-icon icon fa-fw fa-sm fas fa-chart-simple" style=""></span>概率论<!----></a></li><li class="dropdown-item"><a class="route-link nav-link active" href="/MD/School/DataStructure/" aria-label="数据结构"><span class="font-icon icon fa-fw fa-sm fas fa-code" style=""></span>数据结构<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/MD/School/DatabaseSystem/" aria-label="数据库系统"><span class="font-icon icon fa-fw fa-sm fas fa-database" style=""></span>数据库系统<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/MD/School/Others/" aria-label="其他"><span class="font-icon icon fa-fw fa-sm fas fa-bars" style=""></span>其他<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/MD/Others/" aria-label="技术分享"><span class="font-icon icon fa-fw fa-sm fas fa-list" style=""></span>技术分享<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="关于"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-sitemap" style=""></span>关于</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/intro.html" aria-label="关于本站"><span class="font-icon icon fa-fw fa-sm fas fa-globe" style=""></span>关于本站<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/AboutMe.html" aria-label="关于本人"><span class="font-icon icon fa-fw fa-sm fas fa-user" style=""></span>关于本人<!----></a></li></ul></button></div></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/WataminC" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:none;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:block;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/MD/School/DataStructure/" aria-label="数据结构"><span class="font-icon icon fa-fw fa-sm fas fa-code" style=""></span>数据结构<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/MD/School/DataStructure/Chapter1.html" aria-label="第1章 基础概念"><!---->第1章 基础概念<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/MD/School/DataStructure/Chapter2.html" aria-label="第2章 线性表"><!---->第2章 线性表<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/MD/School/DataStructure/Chapter3.html" aria-label="第3章 栈与队列"><!---->第3章 栈与队列<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/MD/School/DataStructure/Chapter5.html" aria-label="第5章 树的基本概念"><!---->第5章 树的基本概念<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="route-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/MD/School/DataStructure/Chapter8.html" aria-label="第8章 图论"><!---->第8章 图论<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/MD/School/DataStructure/Chapter8.html#_8-1-图的基本概念" aria-label="8.1 图的基本概念"><!---->8.1 图的基本概念<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/MD/School/DataStructure/Chapter8.html#_8-2-图的存储表示" aria-label="8.2 图的存储表示"><!---->8.2 图的存储表示<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/MD/School/DataStructure/Chapter8.html#_8-3-图的遍历" aria-label="8.3 图的遍历"><!---->8.3 图的遍历<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="route-link nav-link vp-sidebar-link vp-heading" href="/MD/School/DataStructure/Chapter8.html#_8-4-最小生成树" aria-label="8.4 最小生成树"><!---->8.4 最小生成树<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->第8章 图论</h1><!----><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_8-1-图的基本概念">8.1 图的基本概念</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_8-2-图的存储表示">8.2 图的存储表示</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_8-3-图的遍历">8.3 图的遍历</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_8-4-最小生成树">8.4 最小生成树</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><h1 id="第8章-图" tabindex="-1"><a class="header-anchor" href="#第8章-图"><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">§</mi></mrow><annotation encoding="application/x-tex">\S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">§</span></span></span></span> 第8章 图</span></a></h1><h3 id="_8-1-图的基本概念" tabindex="-1"><a class="header-anchor" href="#_8-1-图的基本概念"><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">§</mi></mrow><annotation encoding="application/x-tex">\S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">§</span></span></span></span> 8.1 图的基本概念</span></a></h3><p><strong>图定义:</strong> 图是由顶点集合(vertex)及顶点间的关系集合组成的一种数据结构</p><ul><li>有向图和无向图</li><li>完全图</li><li>邻接顶点</li><li>子图</li><li>带权图也叫做网络</li><li>稠密图和稀疏图 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>=</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">m = n\log n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span></span></span></span></li><li>顶点的度</li><li>入度</li><li>出度</li><li>路径</li><li>路径长度</li><li>简单路径</li><li>回路</li><li>连通图和连通分量</li><li>强连通图与强连通分量</li><li>生成树</li></ul><hr><p><strong>图的抽象数据类型</strong></p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Graph</span> <span class="token punctuation">{</span>
<span class="token comment">//对象: 由一个顶点的非空集合和一个边集合构成</span>
<span class="token comment">//每条边由一个顶点对来表示。</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Graph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//建立一个空的图</span>
    <span class="token keyword">void</span> <span class="token function">insertVertex</span> <span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> vertex<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//插入一个顶点vertex, 该顶点暂时没有入边</span>
    <span class="token keyword">void</span> <span class="token function">insertEdge</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v1<span class="token punctuation">,</span> <span class="token keyword">int</span> v2<span class="token punctuation">,</span> <span class="token keyword">int</span> weight<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//在图中插入一条边(v1, v2, w)</span>
    <span class="token keyword">void</span> <span class="token function">removeVertex</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//在图中删除顶点v和所有关联到它的边void removeEdge (int v1, int v2);</span>
    <span class="token comment">//在图中删去边(v1,v2)</span>
    <span class="token keyword">bool</span> <span class="token function">IsEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//若图中没有顶点, 则返回true, 否则返回false</span>
    T <span class="token function">getWeight</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v1<span class="token punctuation">,</span> <span class="token keyword">int</span> v2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//函数返回边 (v1,v2) 的权值</span>
    <span class="token keyword">int</span> <span class="token function">getFirstNeighbor</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//给出顶点 v 第一个邻接顶点的位置</span>
    <span class="token keyword">int</span> <span class="token function">getNextNeighbor</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//给出顶点 v 的某邻接顶点 w 的下一个邻接顶点</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>图的模版基类</strong></p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">const</span> <span class="token keyword">int</span> maxWeight <span class="token operator">=</span> ……<span class="token punctuation">;</span>
<span class="token comment">//无穷大的值</span>
<span class="token punctuation">(</span><span class="token operator">=</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> DefaultVertices <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
<span class="token comment">//最大顶点数</span>
<span class="token punctuation">(</span><span class="token operator">=</span>n<span class="token punctuation">)</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">E</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">Graph</span> <span class="token punctuation">{</span>   <span class="token comment">//图的类定义</span>
<span class="token keyword">protected</span><span class="token operator">:</span>
    <span class="token keyword">int</span> maxVertices<span class="token punctuation">;</span>    <span class="token comment">//图中最大顶点数</span>
    <span class="token keyword">int</span> numEdges<span class="token punctuation">;</span>   <span class="token comment">//当前边数</span>
    <span class="token keyword">int</span> numVertices<span class="token punctuation">;</span>    <span class="token comment">//当前顶点数</span>
    <span class="token keyword">int</span> <span class="token function">getVertexPos</span> <span class="token punctuation">(</span>T vertex<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//给出顶点vertex在图中位置</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Graph</span> <span class="token punctuation">(</span><span class="token keyword">int</span> sz <span class="token operator">=</span> DefaultVertices<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//构造函数</span>
    ～<span class="token function">Graph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//析构函数</span>
    <span class="token keyword">bool</span> <span class="token function">GraphEmpty</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>    <span class="token comment">//判图空否</span>
    <span class="token punctuation">{</span> <span class="token keyword">return</span> numEdges <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">int</span> <span class="token function">NumberOfVertices</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> numVertices<span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">//返回当前顶点数</span>
    <span class="token keyword">int</span> <span class="token function">NumberOfEdges</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> numEdges<span class="token punctuation">;</span> <span class="token punctuation">}</span>   <span class="token comment">//返回当前边数</span>
    <span class="token keyword">virtual</span> T <span class="token function">getValue</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//取顶点 i 的值</span>
    <span class="token keyword">virtual</span> E <span class="token function">getWeight</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v1<span class="token punctuation">,</span> <span class="token keyword">int</span> v2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//取边上权值</span>
    <span class="token keyword">virtual</span> <span class="token keyword">int</span> <span class="token function">getFirstNeighbor</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//取顶点 v 的第一个邻接顶点</span>
    <span class="token keyword">virtual</span> <span class="token keyword">int</span> <span class="token function">getNextNeighbor</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//取邻接顶点 w 的下一邻接顶点</span>
    <span class="token keyword">virtual</span> <span class="token keyword">bool</span> <span class="token function">insertVertex</span> <span class="token punctuation">(</span><span class="token keyword">const</span> T vertex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//插入一个顶点vertex</span>
    <span class="token keyword">virtual</span> <span class="token keyword">bool</span> <span class="token function">insertEdge</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v1<span class="token punctuation">,</span> <span class="token keyword">int</span> v2<span class="token punctuation">,</span> E cost<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//插入边(v1,v2), 权为cost</span>
    <span class="token keyword">virtual</span> <span class="token keyword">bool</span> <span class="token function">removeVertex</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//删去顶点 v 和所有与相关联边</span>
    <span class="token keyword">virtual</span> <span class="token keyword">bool</span> <span class="token function">removeEdge</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v1<span class="token punctuation">,</span> <span class="token keyword">int</span> v2<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//在图中删去边(v1,v2)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_8-2-图的存储表示" tabindex="-1"><a class="header-anchor" href="#_8-2-图的存储表示"><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">§</mi></mrow><annotation encoding="application/x-tex">\S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">§</span></span></span></span> 8.2 图的存储表示</span></a></h3><p><strong>邻接矩阵存储图的类定义</strong></p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">E</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">Graphmtx</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Graph</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">E</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">friend</span> istream<span class="token operator">&amp;</span> <span class="token keyword">operator</span> <span class="token operator">&gt;&gt;</span> <span class="token punctuation">(</span> istream<span class="token operator">&amp;</span> in<span class="token punctuation">,</span>Graphmtx<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> E<span class="token operator">&gt;</span><span class="token operator">&amp;</span> G<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//输入</span>
    <span class="token keyword">friend</span> ostream<span class="token operator">&amp;</span> <span class="token keyword">operator</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>ostream<span class="token operator">&amp;</span>out<span class="token punctuation">,</span> Graphmtx<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> E<span class="token operator">&gt;</span><span class="token operator">&amp;</span> G<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//输出</span>
<span class="token keyword">private</span><span class="token operator">:</span>
    T <span class="token operator">*</span>VerticesList<span class="token punctuation">;</span>    <span class="token comment">//顶点表</span>
    E <span class="token operator">*</span><span class="token operator">*</span>Edge<span class="token punctuation">;</span>   <span class="token comment">//邻接矩阵</span>
    <span class="token keyword">int</span> <span class="token function">getVertexPos</span> <span class="token punctuation">(</span>T vertex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//给出顶点vertex在图中的位置</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numVertices<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>VerticesList<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> Vertex<span class="token punctuation">)</span> 
                <span class="token keyword">return</span> i<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Graphmtx</span> <span class="token punctuation">(</span><span class="token keyword">int</span> sz <span class="token operator">=</span> DefaultVertices<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//构造函数</span>
    ～<span class="token function">Graphmtx</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">//析构函数</span>
    <span class="token punctuation">{</span> <span class="token keyword">delete</span> <span class="token punctuation">[</span> <span class="token punctuation">]</span>VerticesList<span class="token punctuation">;</span> <span class="token keyword">delete</span> <span class="token punctuation">[</span> <span class="token punctuation">]</span>Edge<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    T <span class="token function">getValue</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">//取顶点 i 的值, i 不合理返回0</span>
        <span class="token keyword">return</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;=</span> numVertices <span class="token operator">?</span> VerticesList<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    E <span class="token function">getWeight</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v1<span class="token punctuation">,</span> <span class="token keyword">int</span> v2<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//取边(v1,v2)上权值</span>
        <span class="token keyword">return</span> v1 <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> v2 <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> Edge<span class="token punctuation">[</span>v1<span class="token punctuation">]</span><span class="token punctuation">[</span>v2<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> <span class="token function">getFirstNeighbor</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//取顶点 v 的第一个邻接顶点</span>
    <span class="token keyword">int</span> <span class="token function">getNextNeighbor</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//取 v 的邻接顶点 w 的下一邻接顶点</span>
    <span class="token keyword">bool</span> <span class="token function">insertVertex</span> <span class="token punctuation">(</span><span class="token keyword">const</span> T vertex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//插入顶点vertex</span>
    <span class="token keyword">bool</span> <span class="token function">insertEdge</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v1<span class="token punctuation">,</span> <span class="token keyword">int</span> v2<span class="token punctuation">,</span> E cost<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//插入边(v1, v2),权值为cost</span>
    <span class="token keyword">bool</span> <span class="token function">removeVertex</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//删去顶点 v 和所有与它相关联的边</span>
    <span class="token keyword">bool</span> <span class="token function">removeEdge</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v1<span class="token punctuation">,</span> <span class="token keyword">int</span> v2<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//在图中删去边(v1,v2)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>构造函数</strong></p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">E</span><span class="token operator">&gt;</span>
<span class="token class-name">Graphmtx</span><span class="token operator">&lt;</span>T<span class="token punctuation">,</span> E<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token function">Graphmtx</span> <span class="token punctuation">(</span><span class="token keyword">int</span> sz<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//构造函数</span>
    maxVertices <span class="token operator">=</span> sz<span class="token punctuation">;</span>
    numVertices <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 
    numEdges <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">;</span>
    VerticesList <span class="token operator">=</span> <span class="token keyword">new</span> T<span class="token punctuation">[</span>maxVertices<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">//创建顶点表</span>
    Edge <span class="token operator">=</span> <span class="token punctuation">(</span>E <span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">new</span> E <span class="token operator">*</span><span class="token punctuation">[</span>maxVertices<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> maxVertices<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        Edge<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>maxVertices<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//邻接矩阵</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> maxVertices<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token comment">//矩阵初始化</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> maxVertices<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
            Edge<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> j<span class="token punctuation">)</span> ？ <span class="token number">0</span> <span class="token operator">:</span> maxWeight<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p><strong>邻接表存储图的类定义</strong></p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">E</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> <span class="token class-name">Edge</span> <span class="token punctuation">{</span>   <span class="token comment">//边结点的定义</span>
    <span class="token keyword">int</span> dest<span class="token punctuation">;</span>   <span class="token comment">//边的另一顶点位置</span>
    E cost<span class="token punctuation">;</span> <span class="token comment">//边上的权值</span>
    Edge<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> E<span class="token operator">&gt;</span> <span class="token operator">*</span>link<span class="token punctuation">;</span>   <span class="token comment">//下一条边链指针</span>
    <span class="token function">Edge</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">//构造函数</span>
    <span class="token function">Edge</span> <span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">,</span> E weight<span class="token punctuation">)</span>    <span class="token comment">//构造函数</span>
    <span class="token operator">:</span> <span class="token function">dest</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cost</span><span class="token punctuation">(</span>weight<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">link</span> <span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword">bool</span> <span class="token keyword">operator</span> <span class="token operator">!=</span> <span class="token punctuation">(</span>Edge<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> E<span class="token operator">&gt;</span><span class="token operator">&amp;</span> R<span class="token punctuation">)</span> <span class="token keyword">const</span>
    <span class="token punctuation">{</span> <span class="token keyword">return</span> dest <span class="token operator">!=</span> R<span class="token punctuation">.</span>dest<span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">//判边等否</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>顺序表结点结构类</strong></p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">E</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> <span class="token class-name">Vertex</span> <span class="token punctuation">{</span> <span class="token comment">//顶点的定义</span>
    T data<span class="token punctuation">;</span> <span class="token comment">//顶点的名字</span>
    Edge<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> E<span class="token operator">&gt;</span> <span class="token operator">*</span>adj<span class="token punctuation">;</span>    <span class="token comment">//边链表的头指针</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>邻接表类</strong></p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>邻接表类
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">E</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">Graphlnk</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Graph</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">E</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span> <span class="token comment">//图的类定义</span>
    <span class="token keyword">friend</span> istream<span class="token operator">&amp;</span> <span class="token keyword">operator</span> <span class="token operator">&gt;&gt;</span> <span class="token punctuation">(</span>istream<span class="token operator">&amp;</span> in<span class="token punctuation">,</span> Graphlnk<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> E<span class="token operator">&gt;</span><span class="token operator">&amp;</span> G<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//输入</span>
    <span class="token keyword">friend</span> ostream<span class="token operator">&amp;</span> <span class="token keyword">operator</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> Graphlnk<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> E<span class="token operator">&gt;</span><span class="token operator">&amp;</span> G<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//输出private:</span>
    Vertex<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> E<span class="token operator">&gt;</span> <span class="token operator">*</span>NodeTable<span class="token punctuation">;</span>    <span class="token comment">//顶点表 (各边链表的头结点)</span>
    <span class="token keyword">int</span> <span class="token function">getVertexPos</span> <span class="token punctuation">(</span><span class="token keyword">const</span> T vertx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//给出顶点vertex在图中的位置</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numVertices<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>NodeTable<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>data <span class="token operator">==</span> vertx<span class="token punctuation">)</span> 
                <span class="token keyword">return</span> i<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Graphlnk</span> <span class="token punctuation">(</span><span class="token keyword">int</span> sz <span class="token operator">=</span> DefaultVertices<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//构造函数</span>
    <span class="token operator">~</span><span class="token function">Graphlnk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//析构函数</span>
    T <span class="token function">getValue</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//取顶点 i 的值</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;</span> NumVertices<span class="token punctuation">)</span> <span class="token operator">?</span> NodeTable<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>data <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    E <span class="token function">getWeight</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v1<span class="token punctuation">,</span> <span class="token keyword">int</span> v2<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//取边(v1,v2)权值</span>
    <span class="token keyword">bool</span> <span class="token function">insertVertex</span> <span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> vertex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 插入顶点</span>
    <span class="token keyword">bool</span> <span class="token function">removeVertex</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 删除顶点</span>
    <span class="token keyword">bool</span> <span class="token function">insertEdge</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v1<span class="token punctuation">,</span> <span class="token keyword">int</span> v2<span class="token punctuation">,</span> E cost<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//插入边</span>
    <span class="token keyword">bool</span> <span class="token function">removeEdge</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v1<span class="token punctuation">,</span> <span class="token keyword">int</span> v2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 删除边</span>
    <span class="token keyword">int</span> <span class="token function">getFirstNeighbor</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取v的第一个邻接点</span>
    <span class="token keyword">int</span> <span class="token function">getNextNeighbor</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取w后的邻接点</span>
    <span class="token keyword">void</span> <span class="token function">CreateNodeTable</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 建立邻接表结构</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>构造函数</strong></p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">E</span><span class="token operator">&gt;</span>
<span class="token class-name">Graphlnk</span><span class="token operator">&lt;</span>T<span class="token punctuation">,</span> E<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token function">Graphlnk</span> <span class="token punctuation">(</span><span class="token keyword">int</span> sz<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//构造函数：建立一个空的邻接表</span>
    maxVertices <span class="token operator">=</span> sz<span class="token punctuation">;</span>
    numVertices <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 
    numEdges <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    NodeTable<span class="token operator">=</span><span class="token keyword">new</span> Vertex<span class="token operator">&lt;</span>T<span class="token punctuation">,</span>E<span class="token operator">&gt;</span><span class="token punctuation">[</span>maxVertices<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//创建顶点表数组</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>NodeTable <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span> cerr <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;存储分配错！&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> maxVertices<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        NodeTable<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>adj <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>析构函数</strong></p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">E</span><span class="token operator">&gt;</span>
Graphlnk<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> E<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>～<span class="token function">Graphlnk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//析构函数：删除一个邻接表</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numVertices<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Edge<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> E<span class="token operator">&gt;</span> <span class="token operator">*</span>p <span class="token operator">=</span> NodeTable<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>adj<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span> 
            NodeTable<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>adj <span class="token operator">=</span> p<span class="token operator">-&gt;</span>link<span class="token punctuation">;</span>
            <span class="token keyword">delete</span> p<span class="token punctuation">;</span> 
            p <span class="token operator">=</span> NodeTable<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>adj<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">delete</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>NodeTable<span class="token punctuation">;</span>
    <span class="token comment">//删除顶点表数组</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>邻接表的建立算法</strong></p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">E</span><span class="token operator">&gt;</span>
<span class="token keyword">void</span> <span class="token class-name">Graphlnk</span><span class="token operator">&lt;</span>T<span class="token punctuation">,</span> E<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token function">CreateNodeTable</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token comment">// 建立邻接表结构</span>
<span class="token punctuation">{</span> 
    <span class="token keyword">int</span> n<span class="token punctuation">,</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>m<span class="token punctuation">;</span>
    Edge<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> E<span class="token operator">&gt;</span> <span class="token operator">*</span>p<span class="token punctuation">;</span>
    cin<span class="token operator">&gt;&gt;</span>n<span class="token punctuation">;</span> <span class="token comment">//结点个数</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        NodeTable<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>adj<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 预设为空链</span>
        cin<span class="token operator">&gt;&gt;</span>NodeTable<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">;</span> <span class="token comment">//输入结点值</span>
        cin<span class="token operator">&gt;&gt;</span>m<span class="token punctuation">;</span> <span class="token comment">//每个结点的邻接点个数</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span> 
            p <span class="token operator">=</span> <span class="token keyword">new</span> Edge<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> E<span class="token operator">&gt;</span> <span class="token punctuation">;</span> <span class="token comment">// 生成一个新结点</span>
            cin<span class="token operator">&gt;&gt;</span>p<span class="token operator">-&gt;</span>dest<span class="token punctuation">;</span>   <span class="token comment">//建立边结点, 输入结点值到dest域</span>
            cin<span class="token operator">&gt;&gt;</span>p<span class="token operator">-&gt;</span>cost<span class="token punctuation">;</span>  <span class="token comment">//带权图则多加一个权值的输入 </span>
            p<span class="token operator">-&gt;</span>link <span class="token operator">=</span> NodeTable<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>adj<span class="token punctuation">;</span>
            NodeTable<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>adj <span class="token operator">=</span> p<span class="token punctuation">;</span>   <span class="token comment">//头插入建链</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_8-3-图的遍历" tabindex="-1"><a class="header-anchor" href="#_8-3-图的遍历"><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">§</mi></mrow><annotation encoding="application/x-tex">\S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">§</span></span></span></span> 8.3 图的遍历</span></a></h3><ul><li>DFS</li><li>BFS</li><li>层次遍历</li></ul><p><strong>DFS</strong></p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">DFS</span><span class="token punctuation">(</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    cout<span class="token operator">&lt;&lt;</span>NodeTable<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">;</span><span class="token comment">//访问v结点</span>
    p<span class="token operator">=</span>NodeTable<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span>adj<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token comment">// 找出孩子逐个进行递归调用</span>
    <span class="token punctuation">{</span>
        <span class="token function">DFS</span><span class="token punctuation">(</span> p<span class="token operator">-&gt;</span>dest<span class="token punctuation">)</span><span class="token punctuation">;</span>
        p<span class="token operator">=</span>p<span class="token operator">-&gt;</span>link<span class="token punctuation">;</span><span class="token comment">//下一个孩子</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token comment">// DFS</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>层次遍历算法</strong></p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token function">BFS</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span> 
    <span class="token keyword">int</span> v<span class="token punctuation">;</span>
    queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> qu<span class="token punctuation">;</span> <span class="token comment">//定义一个队列qu</span>
    v<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 根结点的下标为0</span>
    qu<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// v入列</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>qu<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span> 
        v<span class="token operator">=</span>qu<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> 
        qu<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//出列</span>
        cout<span class="token operator">&lt;&lt;</span>NodeTable<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">;</span> <span class="token comment">//访问v结点</span>
        p<span class="token operator">=</span>NodeTable<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span>adj<span class="token punctuation">;</span> <span class="token comment">//p指向v结点对应邻接单链表的链头</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span> <span class="token comment">//依次将v结点的孩子入列,以依次实施层次遍历</span>
            qu<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>p<span class="token operator">-&gt;</span>dest<span class="token punctuation">)</span><span class="token punctuation">;</span>
            p<span class="token operator">=</span>p<span class="token operator">-&gt;</span>link<span class="token punctuation">;</span><span class="token comment">//下一个孩子</span>
        <span class="token punctuation">}</span> <span class="token comment">//while</span>
    <span class="token punctuation">}</span> <span class="token comment">//while</span>
<span class="token punctuation">}</span> <span class="token comment">// BFS</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>在邻接表存储结构下的实现算法</strong>:</p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token class-name">Graphlnk</span><span class="token operator">&lt;</span>T<span class="token punctuation">,</span> E<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span> <span class="token function">DFS</span><span class="token punctuation">(</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token comment">// 私有函数</span>
<span class="token punctuation">{</span> 
    <span class="token comment">// 从顶点v出发，深度优先遍历遍历连通图 G</span>
    visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span>NodeTable<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">;</span>    <span class="token comment">//访问v结点</span>
    p<span class="token operator">=</span>NodeTable<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span>adj<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token comment">// 找出邻接点逐个进行递归调用</span>
    <span class="token punctuation">{</span> 
        <span class="token comment">// 对v的尚未访问的邻接顶点递归调用DFS</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>p<span class="token operator">-&gt;</span>dest<span class="token punctuation">]</span><span class="token punctuation">)</span> 
            <span class="token function">DFS</span><span class="token punctuation">(</span> p<span class="token operator">-&gt;</span>dest<span class="token punctuation">)</span><span class="token punctuation">;</span>
        p<span class="token operator">=</span>p<span class="token operator">-&gt;</span>link<span class="token punctuation">;</span> <span class="token comment">// 下一个邻接点</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token comment">// DFS</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>在邻接表存储结构下的实现算法</strong>: // STL queue</p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token class-name">Graphlnk</span><span class="token operator">&lt;</span>T<span class="token punctuation">,</span> E<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span> <span class="token function">BFS</span><span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token comment">// 从顶点v出发，广度优先遍历遍历连通图 G</span>
<span class="token punctuation">{</span> 
    <span class="token keyword">int</span> v<span class="token punctuation">;</span>
    queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> qu<span class="token punctuation">;</span> <span class="token comment">//定义一个队列qu</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span> <span class="token punctuation">)</span> 
        visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//设臵未入列标志</span>
    cin<span class="token operator">&gt;&gt;</span>v<span class="token punctuation">;</span> <span class="token comment">//输入广度优先遍历的出发点</span>
    qu<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// v入列</span>
    visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 设臵入列标志</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>qu<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span> 
        v<span class="token operator">=</span>qu<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> 
        qu<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//出列</span>
        cout <span class="token operator">&lt;&lt;</span> NodeTable<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">;</span> <span class="token comment">//访问v结点</span>
        p<span class="token operator">=</span>NodeTable<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span>adj<span class="token punctuation">;</span> <span class="token comment">//p指向v结点对应邻接单链表的链头</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span> <span class="token comment">//依次将v结点的邻接点入列,以依次实施层次遍历</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>p<span class="token operator">-&gt;</span>dest<span class="token punctuation">]</span><span class="token punctuation">)</span> 
                qu<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>p<span class="token operator">-&gt;</span>dest<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 没有进过队列的</span>
            p<span class="token operator">=</span>p<span class="token operator">-&gt;</span>link<span class="token punctuation">;</span><span class="token comment">//下一个邻接点</span>
        <span class="token punctuation">}</span> <span class="token comment">//while</span>
    <span class="token punctuation">}</span> <span class="token comment">//while</span>
<span class="token punctuation">}</span> <span class="token comment">// BFS</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_8-4-最小生成树" tabindex="-1"><a class="header-anchor" href="#_8-4-最小生成树"><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">§</mi></mrow><annotation encoding="application/x-tex">\S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">§</span></span></span></span> 8.4 最小生成树</span></a></h3><p><strong>克鲁斯卡尔(Kruskal)算法</strong></p><ol><li>先构造一个只含 n 个顶点的子图 SG;</li><li>然后从权值最小的边开始，若它的添加不使SG中产生回路，则在 SG 上加上这条边</li><li>反复执行第2步，直至加上 n-1 条边为止。</li></ol><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">E</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> <span class="token class-name">MSTEdgeNode</span> <span class="token comment">//树边结点的类定义</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> tail<span class="token punctuation">,</span> head<span class="token punctuation">;</span> <span class="token comment">//两顶点位臵</span>
    E cost<span class="token punctuation">;</span> <span class="token comment">// 关系比较&lt;的重载</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
MinHeap <span class="token operator">&lt;</span>MSTEdgeNode<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> E<span class="token operator">&gt;&gt;</span> <span class="token function">H</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//最小堆</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>u <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> u <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> u<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment">// 图采用邻接矩阵</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>v <span class="token operator">=</span> u<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> v <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> v<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span> Edge<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">&lt;</span>maxWeight<span class="token punctuation">)</span>
        <span class="token punctuation">{</span> 
            ed<span class="token punctuation">.</span>tail <span class="token operator">=</span> u<span class="token punctuation">;</span> 
            ed<span class="token punctuation">.</span>head <span class="token operator">=</span> v<span class="token punctuation">;</span>
            ed<span class="token punctuation">.</span>cost <span class="token operator">=</span> Edge<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">//插入堆</span>
            H<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>ed<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">//最小生成树边数计数</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>count <span class="token operator">&lt;</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//反复执行, 取n-1条边</span>
    H<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span>ed<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//从堆中取权值最小的边</span>
    <span class="token comment">//检查该边的两个顶点是否在同一集合中</span>
    <span class="token comment">//查找出该两顶点所在集合的根u与v—并查集</span>
    u <span class="token operator">=</span> F<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span>ed<span class="token punctuation">.</span>tail<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    v <span class="token operator">=</span> F<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span>ed<span class="token punctuation">.</span>head<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>u <span class="token operator">!=</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//不是同一集合,不连通</span>
        F<span class="token punctuation">.</span><span class="token function">Union</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//集合合并,连通它们—并查集</span>
        MST<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>ed<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//将该边放入生成树MST中</span>
        cout <span class="token operator">&lt;&lt;</span>ed<span class="token punctuation">.</span>tail<span class="token operator">&lt;&lt;</span>ed<span class="token punctuation">.</span>head<span class="token operator">&lt;&lt;</span>ed<span class="token punctuation">.</span>cost <span class="token comment">// 输出边</span>
        count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>；
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>普里姆(prim)算法</strong></p><ol><li>设定其中一个结点为出发点；</li><li>分组:出发点为第一组，其余结点为第二组。</li><li>在一端属于第一组和另一端属于第二组的边中选择一条权值最小的一条。</li><li>把原属于第二组的结点放入第一组中。</li><li>反复2，3两步，直到第二组为空为止。</li></ol><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">E</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> <span class="token class-name">MSTEdgeNode</span> <span class="token comment">//树边结点的类定义</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> head<span class="token punctuation">;</span> <span class="token comment">//未加入生成树的结点编号</span>
    <span class="token keyword">int</span> tail<span class="token punctuation">;</span> <span class="token comment">//已加入生成树的结点编号</span>
    E cost<span class="token punctuation">;</span> <span class="token comment">// 关系比较&lt;的重载</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

MinHeap <span class="token operator">&lt;</span>MSTEdgeNode<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> E<span class="token operator">&gt;&gt;</span> <span class="token function">H</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//最小堆</span>

Edge<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>  <span class="token comment">//u 加入生成树</span>
count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 记录已加入生成树的边数</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>count<span class="token operator">&lt;</span>n<span class="token punctuation">)</span>
<span class="token punctuation">{</span> 
    <span class="token keyword">for</span> <span class="token punctuation">(</span>v<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>v<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment">// 逐个查看v是否在生成树中</span>
    <span class="token punctuation">{</span> 
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>Edge<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>Edge<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">&lt;</span>maxWeight<span class="token punctuation">)</span>
        <span class="token punctuation">{</span> 
            ed<span class="token punctuation">.</span>tail<span class="token operator">=</span>u<span class="token punctuation">;</span> 
            ed<span class="token punctuation">.</span>head <span class="token operator">=</span>v <span class="token punctuation">;</span>
            ed<span class="token punctuation">.</span>cost <span class="token operator">=</span> Edge<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment">//(u,v,w)加入堆</span>
            H<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>ed<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>H<span class="token punctuation">.</span><span class="token function">IsEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> count <span class="token operator">&lt;</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        H<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span>ed<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//从堆中删除最小权的边</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Edge<span class="token punctuation">[</span>ed<span class="token punctuation">.</span>head<span class="token punctuation">]</span><span class="token punctuation">[</span>ed<span class="token punctuation">.</span>head<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">//是否符合选择要求</span>
        <span class="token punctuation">{</span>
            MST<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>ed<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//将该边加入最小生成树</span>
            cout <span class="token operator">&lt;&lt;</span>ed<span class="token punctuation">.</span>tail<span class="token operator">&lt;&lt;</span>ed<span class="token punctuation">.</span>head<span class="token operator">&lt;&lt;</span>ed<span class="token punctuation">.</span>cost <span class="token comment">// 输出边</span>
            u <span class="token operator">=</span> ed<span class="token punctuation">.</span>head<span class="token punctuation">;</span>
            Edge<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//u加入生成树集合中</span>
            count<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Dijkstra算法</strong></p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment">// n 表示结点个数</span>
    dist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>G<span class="token punctuation">[</span>v0<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//初始化dist数组</span>
G<span class="token punctuation">[</span>v0<span class="token punctuation">]</span><span class="token punctuation">[</span>v0<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 加入v0，臵出发点访问标志</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment">//共完成n-1次</span>
<span class="token punctuation">{</span> <span class="token comment">// 找最小值</span>
    min<span class="token operator">=</span><span class="token number">32767</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment">//找到最小的邻接点</span>
    <span class="token punctuation">{</span> 
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>G<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>dist<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">&lt;</span>min<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span> 
            pos<span class="token operator">=</span>k<span class="token punctuation">;</span> 
            min<span class="token operator">=</span>dist<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    G<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span> 
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>G<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>G<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+</span>min <span class="token operator">&lt;</span> dist<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            dist<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>G<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+</span>min<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>拓扑排序</strong></p><ol><li>输入AOV网络。令 n 为顶点个数。</li><li>在AOV网络中选一个入度为0的结点, 并输出之;</li><li>从图中删去该顶点, 同时删去所有它发出的有向边;</li><li>重复以上 ②、③步, 直到下面的情况之一出现: <ol><li>全部顶点均已输出，拓扑有序序列形成，拓 扑排序完成；</li><li>图中还有未输出的顶点, 但已没有入度为0的 结点(说明网络中必存在有向环)。</li></ol></li></ol><p>1.在count数组中找出入度为零的顶点，并分别入栈; 2.</p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token keyword">while</span> <span class="token punctuation">(</span>栈非空<span class="token punctuation">)</span>
<span class="token punctuation">{</span> 
<span class="token comment">//出栈到v；</span>
    cout<span class="token operator">&lt;&lt;</span>NodeTable<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">;</span>
    <span class="token operator">++</span>m<span class="token punctuation">;</span>
    p<span class="token operator">=</span>NodeTable <span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span>adj<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>P<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        count<span class="token punctuation">[</span>p<span class="token operator">-&gt;</span>dest<span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>count<span class="token punctuation">[</span>p<span class="token operator">-&gt;</span>dest<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
            则结点p<span class="token operator">-&gt;</span>dest入栈
        p<span class="token operator">=</span>p<span class="token operator">-&gt;</span>link<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.if(m&lt;n) cout&lt;&lt;“图中有回路”;</p><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;queue&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
 
<span class="token keyword">bool</span> <span class="token function">TopSort</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> <span class="token operator">&amp;</span>G<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token operator">&amp;</span>inDegree<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">/*
	*	param
	*	G：	邻接表
	*	n：	顶点数
	*	InDegree：	记录顶点的入度	
	*/</span>
	<span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>				<span class="token comment">//记录加入拓扑排序的顶点数</span>
	queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> q<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>inDegree<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
			q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//将所有入度为0的顶点入队</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">int</span> u <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//取队首顶点u</span>
		cout <span class="token operator">&lt;&lt;</span> u <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>		
		q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> G<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">int</span> v <span class="token operator">=</span> G<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>		<span class="token comment">//u的后继节点</span>
			inDegree<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span>			<span class="token comment">//v的入度减1</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>inDegree<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>		<span class="token comment">//顶点v的入度减为0则入队</span>
				q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		G<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">//清空顶点u的所有出边</span>
		num<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">==</span> n<span class="token punctuation">)</span>				<span class="token comment">//加入拓扑序列的顶点数为n，说明拓扑排序成功，否则，失败</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token keyword">else</span>
		<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;请输入顶点数和边数:&quot;</span><span class="token punctuation">;</span>
	cin <span class="token operator">&gt;&gt;</span> n <span class="token operator">&gt;&gt;</span> m<span class="token punctuation">;</span>
	vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> <span class="token function">G</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">int</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;请输入第&quot;</span> <span class="token operator">&lt;&lt;</span> i<span class="token operator">+</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;条边的顶点:&quot;</span><span class="token punctuation">;</span>
		cin <span class="token operator">&gt;&gt;</span> x <span class="token operator">&gt;&gt;</span> y<span class="token punctuation">;</span>
		G<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;拓扑排序为:&quot;</span><span class="token punctuation">;</span>
	vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">inDegree</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> x <span class="token operator">:</span> G<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> y <span class="token operator">:</span> x<span class="token punctuation">)</span>
			inDegree<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">bool</span> res <span class="token operator">=</span> <span class="token function">TopSort</span><span class="token punctuation">(</span>G<span class="token punctuation">,</span> n<span class="token punctuation">,</span> inDegree<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!----><!--]--><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/WataminC/edit/main/src/MD/School/DataStructure/Chapter8.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><div class="contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: 1286982501@qq.com">WataminC</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link nav-link prev" href="/MD/School/DataStructure/Chapter5.html" aria-label="第5章 树的基本概念"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->第5章 树的基本概念</div></a><!----></nav><!----><!--[--><!----><!--]--><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><div class="vp-copyright">Copyright © 2024 Watamin C </div></footer></div><!--]--><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-Db9izKh9.js" defer></script>
  </body>
</html>
